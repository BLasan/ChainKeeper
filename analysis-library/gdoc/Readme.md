# ChainKeeper - Blockchain Analysis Library

ChainKeeper Blockchain Analysis Library is a tool which implemented for the analysis of blockchains.

## Getting Started with ChainKeeper Analysis Library

Python-interface is based on Python::boost library in C++

### Install RocksDB

```
# download the latest rocksdb source code from github
git clone https://github.com/facebook/rocksdb.git

# go into rocksdb folder
cd rocksdb

# compile
DEBUG_LEVEL=0 make shared_lib install-shared

export LD_LIBRARY_PATH=/usr/lib
```

### Install SQLite3
```
# download the latest SQLite3 source code
wget http://www.sqlite.org/sqlite-autoconf-3071502.tar.gz

tar xvfz sqlite-autoconf-3071502.tar.gz

# go into SQLite3 folder
cd sqlite-autoconf-3071502

# configure & compile
./configure --prefix=/usr/local

make

make install
```

### Compile and Python-Interface
```
# download the source code
https://github.com/scorelab/Monerosci

# enter the downloaded sourced code folder
cd Monerosci/python-interface

# make a build folder and enter it
mkdir build && cd build

# create the makefile
cmake ..

# compile
make monerosci
```

When compilation finishes python shared library ```chainkeeper_analysis.so``` file should be created. in /build/out directory

## Documentation

### Blockchain
Class representing the blockchain. This class is contructed by passing it a string representing a file path to your Blockchain data files generated by ChainKeeper Parser

**class chainkeeper_analysis.Blockchain(loc)**
> __len__(self: chainkeeper_analysis.Blockchain) → int

> .tx_count() → int

> .blocks() → [chainkeeper_analysis.Block]

> .range(int fromBlock, int toBlock) → [chainkeeper_analysis.Block]

> .tx_with_hash(string tx_hash) → chainkeeper_analysis.Tx

> .tx_with_index(int tx_index) → chainkeeper_analysis.Tx

### Block
Class representing a block in the blockchain

**class chainkeeper_analysis.Block(int block_index | string block_hash)**
> .hash → string

> .height → int

> .size → int

> .tx_count → int

> .timestamp → int

> .block_index → int

> .nonce → int

> .prev_block_hash → string

> .next_block_hash → string

> .next_block() → [chainkeeper_analysis.Block]

> .prev_block() → [chainkeeper_analysis.Block]

> .coinbase_tx() → [chainkeeper_analysis.Tx]

> .txes() → [chainkeeper_analysis.Tx]

> .fee() → double


### Transaction(Tx)
Class representing a transaction in the block of blockchain

**class chainkeeper_analysis.Tx(int tx_index | string tx_hash)**

> .hash → string

> .block_height → int

> .size → int

> .is_coinbase → boolean

> .timestamp → int

> .input_count → int

> .output_count → int

> .tx_index → int

> .block() → chainkeeper_analysis.Block


### Input
Class representing a Input of a transaction in the block of blockchain

**class chainkeeper_analysis.Input(int input_key)**

> .block_index → int

> .tx_index → int

> .amount → double

### Output
Class representing a Output of a transaction in the block of blockchain

**class chainkeeper_analysis.Output(int tx_index | int output_index)**

> .block_index → int

> .tx_index → int

> .output_idx → int

> .amount → double